2026-02-24 03:50:22,332 p=88147 u=root n=ansible | PLAY [Setup single-node Kubernetes cluster] ***********************************************************************************************************************************
2026-02-24 03:50:22,344 p=88147 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:50:23,946 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:23,973 p=88147 u=root n=ansible | TASK [Disable swap immediately] ***********************************************************************************************************************************************
2026-02-24 03:50:24,492 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:24,503 p=88147 u=root n=ansible | TASK [Remove swap from fstab] *************************************************************************************************************************************************
2026-02-24 03:50:24,960 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:24,972 p=88147 u=root n=ansible | TASK [Load kernel modules] ****************************************************************************************************************************************************
2026-02-24 03:50:25,386 p=88147 u=root n=ansible | ok: [localhost] => (item=overlay)
2026-02-24 03:50:25,655 p=88147 u=root n=ansible | ok: [localhost] => (item=br_netfilter)
2026-02-24 03:50:25,672 p=88147 u=root n=ansible | TASK [Persist kernel modules] *************************************************************************************************************************************************
2026-02-24 03:50:26,571 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:26,584 p=88147 u=root n=ansible | TASK [Set sysctl parameters] **************************************************************************************************************************************************
2026-02-24 03:50:27,111 p=88147 u=root n=ansible | ok: [localhost] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2026-02-24 03:50:27,389 p=88147 u=root n=ansible | ok: [localhost] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2026-02-24 03:50:27,679 p=88147 u=root n=ansible | ok: [localhost] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2026-02-24 03:50:27,691 p=88147 u=root n=ansible | TASK [Install prerequisites for Docker repo] **********************************************************************************************************************************
2026-02-24 03:50:30,715 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:30,728 p=88147 u=root n=ansible | TASK [Create keyrings directory] **********************************************************************************************************************************************
2026-02-24 03:50:31,047 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:31,059 p=88147 u=root n=ansible | TASK [Add Docker GPG key] *****************************************************************************************************************************************************
2026-02-24 03:50:31,350 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:31,362 p=88147 u=root n=ansible | TASK [Add Docker apt repository] **********************************************************************************************************************************************
2026-02-24 03:50:31,914 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:31,926 p=88147 u=root n=ansible | TASK [Install containerd.io] **************************************************************************************************************************************************
2026-02-24 03:50:34,544 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:34,556 p=88147 u=root n=ansible | TASK [Generate default containerd config] *************************************************************************************************************************************
2026-02-24 03:50:34,846 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:34,858 p=88147 u=root n=ansible | TASK [Enable SystemdCgroup in containerd config] ******************************************************************************************************************************
2026-02-24 03:50:35,145 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:35,158 p=88147 u=root n=ansible | TASK [Restart and enable containerd] ******************************************************************************************************************************************
2026-02-24 03:50:36,843 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:36,860 p=88147 u=root n=ansible | TASK [Add Kubernetes GPG key] *************************************************************************************************************************************************
2026-02-24 03:50:37,161 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:37,174 p=88147 u=root n=ansible | TASK [Add Kubernetes apt repository] ******************************************************************************************************************************************
2026-02-24 03:50:37,789 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:37,803 p=88147 u=root n=ansible | TASK [Install kubeadm, kubelet, kubectl] **************************************************************************************************************************************
2026-02-24 03:50:40,566 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:40,579 p=88147 u=root n=ansible | TASK [Hold Kubernetes packages] ***********************************************************************************************************************************************
2026-02-24 03:50:41,068 p=88147 u=root n=ansible | ok: [localhost] => (item=kubeadm)
2026-02-24 03:50:41,329 p=88147 u=root n=ansible | ok: [localhost] => (item=kubelet)
2026-02-24 03:50:41,615 p=88147 u=root n=ansible | ok: [localhost] => (item=kubectl)
2026-02-24 03:50:41,631 p=88147 u=root n=ansible | TASK [Check if Kubernetes is already initialized] *****************************************************************************************************************************
2026-02-24 03:50:41,965 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:41,980 p=88147 u=root n=ansible | TASK [Initialize Kubernetes cluster] ******************************************************************************************************************************************
2026-02-24 03:50:42,003 p=88147 u=root n=ansible | skipping: [localhost]
2026-02-24 03:50:42,016 p=88147 u=root n=ansible | TASK [Create .kube directory for root] ****************************************************************************************************************************************
2026-02-24 03:50:42,312 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:42,324 p=88147 u=root n=ansible | TASK [Copy kubeconfig to root] ************************************************************************************************************************************************
2026-02-24 03:50:42,817 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:42,830 p=88147 u=root n=ansible | TASK [Install Flannel CNI] ****************************************************************************************************************************************************
2026-02-24 03:50:44,107 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:44,121 p=88147 u=root n=ansible | TASK [Get control-plane node name] ********************************************************************************************************************************************
2026-02-24 03:50:44,650 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:44,662 p=88147 u=root n=ansible | TASK [Untaint control-plane node] *********************************************************************************************************************************************
2026-02-24 03:50:45,151 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:45,163 p=88147 u=root n=ansible | TASK [Install Rancher local-path-provisioner] *********************************************************************************************************************************
2026-02-24 03:50:46,545 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:46,558 p=88147 u=root n=ansible | TASK [Set local-path as default StorageClass] *********************************************************************************************************************************
2026-02-24 03:50:47,042 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:47,055 p=88147 u=root n=ansible | TASK [Wait for node to be Ready] **********************************************************************************************************************************************
2026-02-24 03:50:47,613 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:47,630 p=88147 u=root n=ansible | TASK [Wait for kube-system pods to be Ready] **********************************************************************************************************************************
2026-02-24 03:50:48,823 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:48,874 p=88147 u=root n=ansible | PLAY [Create Kubernetes namespaces] *******************************************************************************************************************************************
2026-02-24 03:50:48,884 p=88147 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:50:50,046 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:50,077 p=88147 u=root n=ansible | TASK [Apply namespaces manifest] **********************************************************************************************************************************************
2026-02-24 03:50:51,233 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:51,273 p=88147 u=root n=ansible | PLAY [Setup Monitoring (Prometheus & Grafana)] ********************************************************************************************************************************
2026-02-24 03:50:51,285 p=88147 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:50:52,452 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:52,480 p=88147 u=root n=ansible | TASK [Ensure Python kubernetes library is installed via apt] ******************************************************************************************************************
2026-02-24 03:50:55,208 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:55,221 p=88147 u=root n=ansible | TASK [Create monitoring namespace] ********************************************************************************************************************************************
2026-02-24 03:50:56,557 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:56,573 p=88147 u=root n=ansible | TASK [Apply Grafana Provisioning ConfigMap] ***********************************************************************************************************************************
2026-02-24 03:50:57,558 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:57,570 p=88147 u=root n=ansible | TASK [Deploy Grafana] *********************************************************************************************************************************************************
2026-02-24 03:50:58,541 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:50:58,555 p=88147 u=root n=ansible | TASK [Wait for grafana rollout] ***********************************************************************************************************************************************
2026-02-24 03:50:59,061 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:50:59,102 p=88147 u=root n=ansible | PLAY [Deploy Nginx web servers] ***********************************************************************************************************************************************
2026-02-24 03:50:59,113 p=88147 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:51:00,304 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:51:00,335 p=88147 u=root n=ansible | TASK [Apply nginx webserver] **************************************************************************************************************************************************
2026-02-24 03:51:01,288 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:51:01,300 p=88147 u=root n=ansible | TASK [Wait for nginx webserver rollout] ***************************************************************************************************************************************
2026-02-24 03:51:01,843 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:51:01,855 p=88147 u=root n=ansible | TASK [Apply nginx proxy] ******************************************************************************************************************************************************
2026-02-24 03:51:02,794 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:51:02,807 p=88147 u=root n=ansible | TASK [Wait for nginx proxy rollout] *******************************************************************************************************************************************
2026-02-24 03:51:03,294 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:51:03,337 p=88147 u=root n=ansible | PLAY [Deploy etcd cluster] ****************************************************************************************************************************************************
2026-02-24 03:51:03,349 p=88147 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:51:04,606 p=88147 u=root n=ansible | ok: [localhost]
2026-02-24 03:51:04,638 p=88147 u=root n=ansible | TASK [Apply etcd manifest] ****************************************************************************************************************************************************
2026-02-24 03:51:05,646 p=88147 u=root n=ansible | changed: [localhost]
2026-02-24 03:51:05,664 p=88147 u=root n=ansible | TASK [Wait for etcd statefulset rollout] **************************************************************************************************************************************
2026-02-24 03:53:42,220 p=88147 u=root n=ansible |  [ERROR]: User interrupted execution

2026-02-24 03:53:44,117 p=93142 u=root n=ansible | PLAY [Setup single-node Kubernetes cluster] ***********************************************************************************************************************************
2026-02-24 03:53:44,129 p=93142 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:53:45,730 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:45,762 p=93142 u=root n=ansible | TASK [Disable swap immediately] ***********************************************************************************************************************************************
2026-02-24 03:53:46,285 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:53:46,296 p=93142 u=root n=ansible | TASK [Remove swap from fstab] *************************************************************************************************************************************************
2026-02-24 03:53:46,737 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:46,753 p=93142 u=root n=ansible | TASK [Load kernel modules] ****************************************************************************************************************************************************
2026-02-24 03:53:47,199 p=93142 u=root n=ansible | ok: [localhost] => (item=overlay)
2026-02-24 03:53:47,463 p=93142 u=root n=ansible | ok: [localhost] => (item=br_netfilter)
2026-02-24 03:53:47,477 p=93142 u=root n=ansible | TASK [Persist kernel modules] *************************************************************************************************************************************************
2026-02-24 03:53:48,429 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:48,442 p=93142 u=root n=ansible | TASK [Set sysctl parameters] **************************************************************************************************************************************************
2026-02-24 03:53:48,956 p=93142 u=root n=ansible | ok: [localhost] => (item={'key': 'net.bridge.bridge-nf-call-iptables', 'value': '1'})
2026-02-24 03:53:49,280 p=93142 u=root n=ansible | ok: [localhost] => (item={'key': 'net.bridge.bridge-nf-call-ip6tables', 'value': '1'})
2026-02-24 03:53:49,577 p=93142 u=root n=ansible | ok: [localhost] => (item={'key': 'net.ipv4.ip_forward', 'value': '1'})
2026-02-24 03:53:49,592 p=93142 u=root n=ansible | TASK [Install prerequisites for Docker repo] **********************************************************************************************************************************
2026-02-24 03:53:53,469 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:53,482 p=93142 u=root n=ansible | TASK [Create keyrings directory] **********************************************************************************************************************************************
2026-02-24 03:53:53,777 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:53,793 p=93142 u=root n=ansible | TASK [Add Docker GPG key] *****************************************************************************************************************************************************
2026-02-24 03:53:54,087 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:54,099 p=93142 u=root n=ansible | TASK [Add Docker apt repository] **********************************************************************************************************************************************
2026-02-24 03:53:54,691 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:54,703 p=93142 u=root n=ansible | TASK [Install containerd.io] **************************************************************************************************************************************************
2026-02-24 03:53:57,372 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:57,384 p=93142 u=root n=ansible | TASK [Generate default containerd config] *************************************************************************************************************************************
2026-02-24 03:53:57,677 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:57,691 p=93142 u=root n=ansible | TASK [Enable SystemdCgroup in containerd config] ******************************************************************************************************************************
2026-02-24 03:53:57,973 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:53:57,987 p=93142 u=root n=ansible | TASK [Restart and enable containerd] ******************************************************************************************************************************************
2026-02-24 03:53:59,667 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:53:59,681 p=93142 u=root n=ansible | TASK [Add Kubernetes GPG key] *************************************************************************************************************************************************
2026-02-24 03:53:59,989 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:00,004 p=93142 u=root n=ansible | TASK [Add Kubernetes apt repository] ******************************************************************************************************************************************
2026-02-24 03:54:00,601 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:00,616 p=93142 u=root n=ansible | TASK [Install kubeadm, kubelet, kubectl] **************************************************************************************************************************************
2026-02-24 03:54:03,429 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:03,441 p=93142 u=root n=ansible | TASK [Hold Kubernetes packages] ***********************************************************************************************************************************************
2026-02-24 03:54:03,950 p=93142 u=root n=ansible | ok: [localhost] => (item=kubeadm)
2026-02-24 03:54:04,237 p=93142 u=root n=ansible | ok: [localhost] => (item=kubelet)
2026-02-24 03:54:04,512 p=93142 u=root n=ansible | ok: [localhost] => (item=kubectl)
2026-02-24 03:54:04,526 p=93142 u=root n=ansible | TASK [Check if Kubernetes is already initialized] *****************************************************************************************************************************
2026-02-24 03:54:04,895 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:04,906 p=93142 u=root n=ansible | TASK [Initialize Kubernetes cluster] ******************************************************************************************************************************************
2026-02-24 03:54:04,929 p=93142 u=root n=ansible | skipping: [localhost]
2026-02-24 03:54:04,945 p=93142 u=root n=ansible | TASK [Create .kube directory for root] ****************************************************************************************************************************************
2026-02-24 03:54:05,252 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:05,264 p=93142 u=root n=ansible | TASK [Copy kubeconfig to root] ************************************************************************************************************************************************
2026-02-24 03:54:05,761 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:05,778 p=93142 u=root n=ansible | TASK [Install Flannel CNI] ****************************************************************************************************************************************************
2026-02-24 03:54:07,312 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:07,325 p=93142 u=root n=ansible | TASK [Get control-plane node name] ********************************************************************************************************************************************
2026-02-24 03:54:07,851 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:07,865 p=93142 u=root n=ansible | TASK [Untaint control-plane node] *********************************************************************************************************************************************
2026-02-24 03:54:08,354 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:08,365 p=93142 u=root n=ansible | TASK [Install Rancher local-path-provisioner] *********************************************************************************************************************************
2026-02-24 03:54:09,891 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:09,904 p=93142 u=root n=ansible | TASK [Set local-path as default StorageClass] *********************************************************************************************************************************
2026-02-24 03:54:10,372 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:10,383 p=93142 u=root n=ansible | TASK [Wait for node to be Ready] **********************************************************************************************************************************************
2026-02-24 03:54:10,983 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:10,999 p=93142 u=root n=ansible | TASK [Wait for kube-system pods to be Ready] **********************************************************************************************************************************
2026-02-24 03:54:12,180 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:12,221 p=93142 u=root n=ansible | PLAY [Create Kubernetes namespaces] *******************************************************************************************************************************************
2026-02-24 03:54:12,236 p=93142 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:54:14,430 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:14,459 p=93142 u=root n=ansible | TASK [Apply namespaces manifest] **********************************************************************************************************************************************
2026-02-24 03:54:15,743 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:15,784 p=93142 u=root n=ansible | PLAY [Setup Monitoring (Prometheus & Grafana)] ********************************************************************************************************************************
2026-02-24 03:54:15,795 p=93142 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:54:16,988 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:17,019 p=93142 u=root n=ansible | TASK [Ensure Python kubernetes library is installed via apt] ******************************************************************************************************************
2026-02-24 03:54:19,666 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:19,680 p=93142 u=root n=ansible | TASK [Create monitoring namespace] ********************************************************************************************************************************************
2026-02-24 03:54:20,960 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:20,976 p=93142 u=root n=ansible | TASK [Wait for Grafana rollout] ***********************************************************************************************************************************************
2026-02-24 03:54:21,455 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:21,468 p=93142 u=root n=ansible | TASK [Wait for Prometheus rollout] ********************************************************************************************************************************************
2026-02-24 03:54:21,962 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:21,974 p=93142 u=root n=ansible | TASK [Wait for Alertmanager rollout] ******************************************************************************************************************************************
2026-02-24 03:54:22,461 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:22,503 p=93142 u=root n=ansible | PLAY [Deploy Nginx web servers] ***********************************************************************************************************************************************
2026-02-24 03:54:22,514 p=93142 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:54:23,704 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:23,732 p=93142 u=root n=ansible | TASK [Apply nginx webserver] **************************************************************************************************************************************************
2026-02-24 03:54:24,676 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:24,691 p=93142 u=root n=ansible | TASK [Wait for nginx webserver rollout] ***************************************************************************************************************************************
2026-02-24 03:54:25,219 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:25,232 p=93142 u=root n=ansible | TASK [Apply nginx proxy] ******************************************************************************************************************************************************
2026-02-24 03:54:26,171 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:26,184 p=93142 u=root n=ansible | TASK [Wait for nginx proxy rollout] *******************************************************************************************************************************************
2026-02-24 03:54:26,669 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:26,710 p=93142 u=root n=ansible | PLAY [Deploy etcd cluster] ****************************************************************************************************************************************************
2026-02-24 03:54:26,721 p=93142 u=root n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************
2026-02-24 03:54:27,922 p=93142 u=root n=ansible | ok: [localhost]
2026-02-24 03:54:27,951 p=93142 u=root n=ansible | TASK [Apply etcd manifest] ****************************************************************************************************************************************************
2026-02-24 03:54:29,000 p=93142 u=root n=ansible | changed: [localhost]
2026-02-24 03:54:29,012 p=93142 u=root n=ansible | TASK [Wait for etcd statefulset rollout] **************************************************************************************************************************************
